{"version":3,"sources":["UserProvider.js","components/Main.js","components/Login.js","components/Singup.js","App.js","reportWebVitals.js","index.js"],"names":["userContext","createContext","UserProvider","props","useState","user","setUser","logState","setLogState","loading","setLoading","checkState","a","token","localStorage","getItem","JSON","parse","Error","config","headers","axios","get","currentUser","data","time","expires","Math","floor","Date","now","setTimeout","useEffect","Provider","value","children","Main","classes","makeStyles","title","flexGrow","main","margin","nav","backgroundColor","modal","display","flexDirection","justifyContent","alignItems","useStyles","setData","error","setError","useContext","open","setOpen","userData","setUserData","userUsername","setUserUsername","userAddress","setUserAddress","userPassword","setUserPassword","success","setSuccess","updateError","setUpdateError","flag","setFlag","getTable","response","table","setDetails","e","target","name","changeDetails","post","editUser","style","borderRadius","position","width","height","padding","Alert","severity","fontSize","type","onChange","placeholder","username","address","Button","variant","color","onClick","deleteMe","console","log","message","AppBar","className","Toolbar","Typography","removeItem","Grid","container","justify","direction","item","lg","Table","TableHead","TableRow","TableCell","TableBody","map","row","email","Modal","disableBackdropClick","disableEscapeKeyDown","onClose","Login","mainBox","button","fontWeight","input","setEmail","pwd","setpwd","history","useHistory","setForm","formHandler","preventDefault","setItem","stringify","sm","md","xs","onSubmit","TextField","push","SignUp","grid","border","Cpwd","setCpwd","setAddress","setUsername","App","path","render","to","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.434a6121.chunk.js","sourcesContent":["import React, {createContext, useState, useEffect} from \"react\";\r\nimport axios from 'axios';\r\n\r\nexport const userContext = createContext()\r\n\r\nexport const UserProvider =  (props) => {\r\n\r\n    const [user, setUser] = useState('')\r\n    const [logState, setLogState] = useState(false)\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    const autoLog = (time) => {\r\n        if(time)\r\n            setTimeout(()=>{\r\n                checkState()\r\n            },time*1000)\r\n        }\r\n\r\n    const checkState = async () => {\r\n        try {\r\n            var token = localStorage.getItem('biscuit')\r\n            token = JSON.parse(token)\r\n            if(!token)\r\n                throw new Error('Please Login')\r\n            let config = {\r\n                headers: {\r\n                'Authorization': 'Bearer ' + token.token\r\n                }\r\n            }\r\n            const currentUser = await axios.get('/currState',config)\r\n            setUser(currentUser.data)\r\n            setLogState(true)\r\n            autoLog(token.expires-Math.floor(Date.now()/1000))\r\n        }\r\n        catch (err) {\r\n            setLogState(false)\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    useEffect(() => {\r\n        checkState()\r\n    },[logState])\r\n\r\n    return (\r\n        <userContext.Provider value={{user,logState,loading,setLogState}}>\r\n            {props.children}\r\n        </userContext.Provider>\r\n    )\r\n}","import React, {useContext, useEffect, useState} from 'react';\r\nimport {userContext} from '../UserProvider';\r\nimport axios from 'axios';\r\nimport {Grid, AppBar, Typography, Button, Toolbar, makeStyles,Table, TableHead, TableRow, TableCell, TableBody, Modal} from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nexport const Main = () => {\r\n\r\n    const useStyles = makeStyles(()=> ({\r\n        title : {\r\n            flexGrow: 1,\r\n        },\r\n        main : {\r\n            margin: '20px 0',\r\n        },\r\n        nav : {\r\n            backgroundColor : '#112d4e',\r\n        },\r\n        modal : {\r\n            display : 'flex',\r\n            flexDirection : 'row',\r\n            justifyContent : 'center',\r\n            alignItems : 'center',\r\n        }\r\n    }))\r\n    const classes = useStyles()\r\n    const [data, setData] = useState()\r\n    const [loading, setLoading] = useState(true)\r\n    const [error, setError] = useState('')\r\n    const {user,setLogState} = useContext(userContext)\r\n    const [open,setOpen] = useState(false)\r\n    const [userData, setUserData] = useState({})\r\n    const [userUsername, setUserUsername] = useState('')\r\n    const [userAddress, setUserAddress] = useState('')\r\n    const [userPassword, setUserPassword] = useState('')\r\n    const [success, setSuccess] = useState('')\r\n    const [updateError,setUpdateError] = useState('')\r\n    const [flag, setFlag] = useState(false)\r\n\r\n    const getTable = async () => {\r\n        var token = localStorage.getItem('biscuit')\r\n        token = JSON.parse(token)\r\n            let config = {\r\n                headers: {\r\n                  'Authorization': 'Bearer ' + token.token\r\n                }\r\n              }\r\n        try {\r\n            const response = await axios.get('/data',config)\r\n            setData(response.data.table)\r\n            setUserData(response.data.userData)\r\n        }\r\n        catch (err) {\r\n            setError(err.response.data)\r\n        }\r\n        setLoading(false)\r\n    } \r\n\r\n    const handleClose = () => {\r\n        setOpen(false)\r\n    }\r\n\r\n    const setDetails = (e) => {\r\n        if (e.target.name === 'username')\r\n            setUserUsername(e.target.value)\r\n        else if(e.target.name === 'address')\r\n            setUserAddress(e.target.value)\r\n        else\r\n            setUserPassword(e.target.value)\r\n    }\r\n\r\n    const changeDetails = async () => {\r\n        if(userAddress === '' && userPassword === '' && userUsername === '') {\r\n            setUpdateError(\"No changes made\")\r\n            return \r\n        }\r\n        setFlag(true)\r\n        setUpdateError('')\r\n        setSuccess('')\r\n        var token = localStorage.getItem('biscuit')\r\n        token = JSON.parse(token)\r\n            let config = {\r\n                headers: {\r\n                  'Authorization': 'Bearer ' + token.token\r\n                }\r\n              }\r\n        try {\r\n            await axios.post('/changeDetails', {userAddress, userPassword, userUsername},config)\r\n            setSuccess('Update Successful')\r\n            getTable()\r\n        }   \r\n        catch (error) {\r\n            setUpdateError(error.response.data)\r\n        }\r\n        setFlag(false)\r\n    }\r\n\r\n    const editUser = (\r\n        <div style={{borderRadius:'20px',position:'relative',width:'40vw',height:'40vh',padding:'40px 20px',backgroundColor:'white',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center'}}>\r\n            <h1>Edit your details</h1>\r\n             {updateError && <Alert severity=\"error\" >{updateError}</Alert>}\r\n             {success && <Alert>{success}</Alert>}\r\n            <input name='username' style={{fontSize:'1.3em',width:'80%',margin:'10px',padding:'20px 30px'}} type=\"text\" onChange={setDetails} placeholder={userData.username} value={userUsername}/>\r\n            <input  name='address' style={{fontSize:'1.3em',width:'80%',margin:'10px',padding:'22px 30px'}} type=\"text\" onChange={setDetails} placeholder={userData.address} value={userAddress}/>\r\n            <input name='password' style={{fontSize:'1.3em',width:'80%',margin:'10px',padding:'22px 30px'}} type=\"text\" onChange={setDetails} placeholder=\"enter your new password\" value={userPassword}/>\r\n            <Button  style={{margin:'20px 0'}} variant=\"contained\" color=\"primary\" onClick={changeDetails} >Change</Button>\r\n        </div>\r\n    )\r\n\r\n    const logout = () => {\r\n        localStorage.removeItem(\"biscuit\");\r\n        setLogState(false)\r\n    }\r\n\r\n    const deleteMe = async () => {\r\n        var token = localStorage.getItem('biscuit')\r\n            token = JSON.parse(token)\r\n            let config = {\r\n                headers: {\r\n                  'Authorization': 'Bearer ' + token.token\r\n                }\r\n              }\r\n        try {\r\n            await axios.get('/delete',config)\r\n            setLogState(false)\r\n        }\r\n        catch (error) {\r\n            console.log(error.response?error.response.data:error.message)\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        getTable()\r\n    },[])\r\n\r\n    return (\r\n        loading?\"\":error?<div><h1>{error}</h1></div>:\r\n        <div>\r\n             <AppBar position=\"static\" className={classes.nav} >\r\n                <Toolbar>\r\n                    <Typography variant=\"h6\" className={classes.title}>\r\n                        Welcome {user}\r\n                    </Typography>\r\n                    <Button color=\"secondary\" onClick={()=>{setOpen(true)}} >Edit</Button>\r\n                    <Button color=\"secondary\" onClick={deleteMe} >Delete</Button>\r\n                    <Button color=\"secondary\" onClick={logout} >LogOut</Button>\r\n                </Toolbar>\r\n             </AppBar>\r\n            <Grid container justify=\"center\" direction=\"row\" alignItems=\"center\" className={classes.main}>\r\n               <Grid item lg={10}>\r\n                    <Table>\r\n                        <TableHead >\r\n                            <TableRow>\r\n                                <TableCell>Email</TableCell>\r\n                                <TableCell>Username</TableCell>\r\n                                <TableCell>Address</TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            { data && data.map((row)=> (\r\n                                <TableRow key={row.email}>\r\n                                    <TableCell>{row.email}</TableCell>\r\n                                    <TableCell>{row.username}</TableCell>\r\n                                    <TableCell>{row.address}</TableCell>\r\n                                </TableRow>\r\n                            ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                    {userData && <Modal className={classes.modal} disableBackdropClick={flag} disableEscapeKeyDown={flag} open={open} onClose={handleClose}>{editUser}</Modal>}\r\n               </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useContext } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport {Grid, Typography, Button,makeStyles, TextField} from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport axios from 'axios';\r\nimport './Login.css'\r\nimport { userContext } from '../UserProvider';\r\n\r\n\r\nexport const Login = () => {\r\n    const {setLogState} = useContext(userContext)\r\n    const useStyles = makeStyles(() =>({\r\n        mainBox : {\r\n            height : '100vh',\r\n            backgroundColor :'#a7bbc7',\r\n        },\r\n        button : {\r\n            margin : '20px 0',\r\n            width : '30%',\r\n            fontSize : '1em',\r\n            padding :'5px 20px'\r\n        },\r\n        title : {\r\n            fontWeight : '400',\r\n            margin: '0 0 10px'\r\n        },\r\n        input : {\r\n            width : '80%',\r\n            fontSize: '2em',\r\n            margin: '5px 0 0',\r\n        }\r\n\r\n\r\n    }))\r\n    const [email, setEmail] = useState('')\r\n    const [pwd, setpwd] = useState('')\r\n    const [error, setError] = useState('')\r\n    const classes = useStyles()\r\n    const history = useHistory()\r\n\r\n    const setForm = (e) => {\r\n        if (e.target.name === 'email')\r\n            setEmail(e.target.value)\r\n        else if (e.target.name === 'pwd')\r\n            setpwd(e.target.value)\r\n    }    \r\n    const formHandler = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            if(email === '' || pwd === '') {\r\n                setError('Fields are empty')\r\n                return\r\n            }\r\n            const log = await axios.post('/login',{email, pwd})\r\n            localStorage.setItem('biscuit',JSON.stringify(log.data))\r\n            setLogState(true)\r\n        }\r\n        catch(err) {\r\n            setError(err.response?err.response.data:err.message)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Grid container justify=\"center\" direction=\"row\" alignItems=\"center\" className={classes.mainBox}>\r\n            <Grid item lg={4} sm={8} md={6} xs={12}>\r\n                <form className=\"box\" onSubmit={formHandler}>\r\n                    <Typography className={classes.title} variant=\"h2\">Login</Typography>\r\n                    {error && <Alert severity=\"error\">{error}</Alert>}\r\n                    <TextField name=\"email\" className={classes.input} type=\"email\" placeholder=\"email\" onChange={setForm} value={email} />\r\n                    <TextField name=\"pwd\" className={classes.input} type=\"password\" placeholder=\"password\" onChange={setForm} value={pwd} />\r\n                    <div className=\"buttonDiv\">\r\n                        <Button className={classes.button} color=\"primary\" variant=\"contained\" type=\"submit\" onSubmit={formHandler} >Log In</Button>\r\n                        <Button className={classes.button} color=\"secondary\" variant=\"contained\" type=\"button\" onClick={()=>{history.push('/signup')}}>Sign Up</Button>\r\n                    </div>\r\n                </form>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}","import React, { useState, useContext } from 'react';\r\nimport {Grid, Typography, Button,makeStyles, TextField} from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { useHistory} from 'react-router';\r\nimport axios from 'axios';\r\nimport {userContext} from '../UserProvider';\r\nexport const SignUp = () => {\r\n\r\n    const {setLogState} = useContext(userContext)\r\n\r\n    const useStyles = makeStyles(() =>({\r\n        main : {\r\n            height : '100vh',\r\n            backgroundColor :'#a7bbc7',\r\n        },\r\n        grid : {\r\n            border: '20px',\r\n        },\r\n        button : {\r\n            margin : '20px 0',\r\n            width : '30%',\r\n            fontSize : '1em',\r\n            padding :'5px 20px'\r\n        },\r\n        title : {\r\n            fontWeight : '400',\r\n            margin: '0 0 10px'\r\n        },\r\n        input : {\r\n            width : '80%',\r\n            fontSize: '2em',\r\n            margin: '5px 0'\r\n        }\r\n\r\n    }))\r\n    const [email, setEmail] = useState('')\r\n    const [pwd, setpwd] = useState('')\r\n    const [Cpwd, setCpwd] = useState('')\r\n    const [address, setAddress] = useState('')\r\n    const [username, setUsername] = useState('')\r\n    const [error, setError] = useState('')\r\n    const classes = useStyles()\r\n    const history = useHistory()\r\n    const setForm = (e) => {\r\n        if (e.target.name === 'email')\r\n            setEmail(e.target.value)\r\n        else if (e.target.name === 'pwd')\r\n            setpwd(e.target.value)\r\n        else if (e.target.name === 'Cpwd')\r\n            setCpwd(e.target.value)    \r\n        else if (e.target.name === 'username')\r\n            setUsername(e.target.value)\r\n        else if (e.target.name === 'address')\r\n            setAddress(e.target.value)\r\n    }    \r\n    const formHandler = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            if(email === '' || pwd === '' || Cpwd === '' || address === '' || username === '') {\r\n                setError('Form is incomplete','Form is in incomplete')\r\n                return\r\n            }\r\n            if(pwd !== Cpwd) {\r\n                setError(\"Passwords didn't match\")\r\n                return\r\n            }\r\n            const log = await axios.post('/signUp',{email, pwd, address, username})\r\n            localStorage.setItem('biscuit',JSON.stringify(log.data))\r\n            setLogState(true)\r\n        }\r\n        catch(err) {\r\n            setError(err.response.data)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Grid container justify=\"center\" direction=\"row\" alignItems=\"center\" className={classes.main}>\r\n            <Grid className={classes.grid} item lg={4} sm={8} md={6} xs={12}>\r\n            <form className=\"Signupbox\" onSubmit={formHandler}> \r\n                    <Typography className={classes.title} variant=\"h2\">SignUp</Typography>\r\n                    {error && <Alert severity=\"error\">{error}</Alert>}\r\n                    <TextField name=\"email\" className={classes.input} type=\"email\" placeholder=\"email\" onChange={setForm} value={email} />\r\n                    <TextField name=\"username\" className={classes.input} type=\"username\" placeholder=\"username\" onChange={setForm} value={username} />\r\n                    <TextField name=\"address\" className={classes.input} type=\"address\" placeholder=\"address\" onChange={setForm} value={address} />\r\n                    <TextField name=\"pwd\" className={classes.input} type=\"password\" placeholder=\"password\" onChange={setForm} value={pwd} />\r\n                    <TextField name=\"Cpwd\" className={classes.input} type=\"password\" placeholder=\"confirm password\" onChange={setForm} value={Cpwd} />\r\n                    <div className=\"buttonDiv\">\r\n                        <Button className={classes.button} color=\"secondary\" variant=\"contained\" type=\"button\" onClick={()=>{history.push('/')}}>Log In</Button>\r\n                        <Button className={classes.button} color=\"primary\" variant=\"contained\" type=\"submit\" onSubmit={formHandler} >SignUp</Button>\r\n                    </div>\r\n            </form>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}","import React, { useContext} from 'react';\nimport './App.css';\nimport {BrowserRouter as Router, Redirect, Route, Switch} from \"react-router-dom\";\nimport  {userContext} from './UserProvider'\nimport {Main} from './components/Main';\nimport {Login} from './components/Login';\nimport {SignUp} from './components/Singup';\nfunction App() {\n  const {logState,loading} = useContext(userContext)\n  return (\n    <div className=\"app\">\n      <Router>\n        <Switch>\n          <Route path = '/signUp' render={ () => { return loading?\"\":logState ? <Redirect to='/'/> : <SignUp/> }}/>\n          <Route path = '/' render={ () => { return loading?\"\":logState ? <Main/> : <Login/> }}/>\n        </Switch>\n      </Router>\n    </div>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {UserProvider} from './UserProvider';\n\nReactDOM.render(\n  <React.StrictMode>\n    <UserProvider>\n      <App />\n    </UserProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}